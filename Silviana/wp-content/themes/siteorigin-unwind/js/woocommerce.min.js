jQuery(function(t){function n(n){t(n).find(".quantity:not(.button-controls)").addClass("button-controls").prepend('<input type="button" value="-" class="subtract" />').append('<input type="button" value="+" class="add" />'),t(n).on("click",".add, .subtract",function(){var n=t(this).closest(".quantity").find(".qty"),o=parseFloat(n.val()),e=parseFloat(n.attr("max")),i=parseFloat(n.attr("min")),r=n.attr("step");t(this).is(".add")?o>=e?n.val(e):n.val(o+parseFloat(r)):t(this).is(".subtract")&&(o<=i?n.val(i):o>0&&n.val(o-parseFloat(r))),n.trigger("change")})}t.fn.triggerQuantityButtons=function(){return this.each(function(t,o){n(o)})},t("table.shop_table, .product form.cart").triggerQuantityButtons(),t(document).on("updated_cart_totals",function(){t("table.shop_table, .product form.cart").triggerQuantityButtons()}),t("table.shop_table").removeClass("shop_table_responsive"),t(".woocommerce-ordering select").each(function(){var n=t(this),o=t("<div></div>").html('<span class="current">'+n.find(":selected").html()+"</span>"+so_unwind_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(n),e=t("<div/>").addClass("ordering-dropdown-container").appendTo(o),i=t("<ul></ul>").addClass("ordering-dropdown").appendTo(e),r=0;n.find("option").each(function(){var e=t(this);i.append(t("<li></li>").html(e.html()).data("val",e.attr("value")).click(function(){n.val(t(this).data("val")),n.closest("form").submit()})),r=Math.max(o.find(".current").html(e.html()).width(),r)}),o.find(".current").html(n.find(":selected").html()).width(r),n.hide()}),t(".ordering-selector-wrapper").click(function(){t(this).toggleClass("open-dropdown")}),t(window).click(function(n){t(n.target).closest(".ordering-selector-wrapper.open-dropdown").length||t(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),t(".variations").on("change","select",function(){t(".product-images-carousel").find(".product-featured-image").click()}),t(".product-quick-view-button").click(function(n){n.preventDefault();var o="#quick-view-container",e="#product-quick-view",i=t(this).attr("data-product-id");t.post(so_unwind_data.ajaxurl,{action:"so_product_quick_view",product_id:i},function(n){t(document).find(o).find(e).html(n),t(document).find("#product-quick-view .cart").triggerQuantityButtons(),t(document).find("#product-quick-view .variations_form").wc_variation_form(),t(document).find("#product-quick-view .variations_form").trigger("check_variations"),t(so_unwind_data.chevron_down).insertAfter("#product-quick-view .variations_form select")}),t(document).find(o).is(":hidden")&&t(document).find(o).find(e).empty(),t(document).find(o).fadeIn(300),t("body").css("margin-right",window.innerWidth-t("body").width()+"px"),t("body").css("overflow","hidden"),t(window).mouseup(function(n){var i=t(e);(!i.is(n.target)&&0===i.has(n.target).length||t(".quickview-close-icon").is(n.target))&&(t(o).fadeOut(300),t("body").css("overflow",""),t("body").css("margin-right",""))}),t(document).keyup(function(n){t(e);27==n.keyCode&&(t(o).fadeOut(300),t("body").css("overflow",""),t("body").css("margin-right",""))})}),t(so_unwind_data.chevron_down).insertAfter(".variations select")});